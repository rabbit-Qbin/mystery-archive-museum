# 神秘收录馆 - 项目规划

## 项目结构

```
mystery-archive/
│
├── website/                        # 网站代码 (前端应用)
│   ├── src/                        # 源代码目录
│   │   ├── components/             # 可复用组件
│   │   │   ├── CommentThread.jsx       # 评论楼层组件
│   │   │   └── IdentityModal.jsx       # 身份档案弹窗
│   │   │
│   │   ├── views/                  # 页面视图
│   │   │   ├── Landing.jsx             # 落地页 (网站入口)
│   │   │   ├── Dashboard.jsx           # 档案列表页
│   │   │   └── DetailView.jsx          # 档案详情页
│   │   │
│   │   ├── services/               # 业务逻辑服务
│   │   │   ├── identityService.js      # 身份管理 (LocalStorage)
│   │   │   └── commentService.js       # 评论管理 (LocalStorage)
│   │   │
│   │   ├── data/                   # 静态配置数据
│   │   │   ├── categories.js           # 分类配置
│   │   │   └── agentCodenames.js       # 探员代号词库
│   │   │
│   │   ├── App.jsx                 # 应用入口 (路由管理)
│   │   ├── main.jsx                # React 挂载点
│   │   └── index.css               # 全局样式
│   │
│   ├── index.html                  # HTML 入口
│   ├── package.json                # 项目依赖配置
│   ├── vite.config.js              # Vite 构建配置
│   ├── tailwind.config.js          # Tailwind CSS 配置
│   └── postcss.config.js           # PostCSS 配置
│
├── archives/                       # 档案数据库 (内容管理)
│   ├── creatures/                  # 未知生物档案 (CRE-xxx)
│   │   ├── CRE-001-深海美人鱼.js
│   │   └── CRE-002-雪人.js
│   │
│   ├── locations/                  # 禁忌地带档案 (LOC-xxx)
│   │   └── LOC-001-百慕大三角.js
│   │
│   ├── artifacts/                  # 诡秘物品档案 (ART-xxx)
│   │   └── ART-001-双鱼玉佩.js
│   │
│   ├── events/                     # 未解事件档案 (EVT-xxx)
│   │   └── EVT-001-佳木斯UFO事件.js
│   │
│   └── registry.js                 # 档案注册表 (汇总所有档案)
│
└── docs/                           # 项目文档 (规划说明)
    ├── 项目规划.md                 # 整体规划文档 (本文件)
    ├── 档案分类标准.md             # 内容分类规范
    └── 部署指南.md                 # 上线部署说明
```

## 核心功能

### 1. 身份系统
- 完全匿名，无需登录注册
- 首次访问自动生成探员代号 (如: 探员·夜枭·402)
- 身份存储在 LocalStorage，清除缓存后会"数字转世"
- 身份弹窗可查看当前代号和活动记录

### 2. 评论系统
- 支持主评论 (新楼层) 和回复 (子评论)
- 嵌套回复，超过3条自动折叠
- 评论数据按档案ID分别存储在 LocalStorage
- 初始为空，用户发表后才显示

### 3. 档案管理
- 档案数据独立存放在 archives/ 文件夹
- 按分类存放: creatures, locations, artifacts, events
- 通过 registry.js 注册表统一管理
- 支持扩展到几百条档案

## 添加新档案流程

1. 在对应分类文件夹创建档案文件
   - 例: `archives/creatures/CRE-003-新生物.js`

2. 在 `archives/registry.js` 中注册
   ```javascript
   { file: './creatures/CRE-003-新生物.js', id: 'CRE-003' },
   ```

3. 完成! 网站自动加载新档案

## 技术栈

- React 18
- Vite (构建工具)
- Tailwind CSS (样式框架)
- Lucide React (图标库)
- LocalStorage (数据持久化)
